<app-landing-header [navActive]="3"></app-landing-header>

<div class="background-container" *ngIf="step === 1">
  <div class="bg-video-wrapper">
    <iframe
      src="https://player.vimeo.com/video/302450585?end=24s&background=1&autoplay=1&loop=1&byline=0&title=0#t=20s"
    ></iframe>
  </div>
  <div
    class="container d-flex align-items-center justify-content-center"
    style="min-height: 100vh; padding-top: 50px"
  >
    <div class="row col-12 col-md-9 col-lg-5 m-4">
      <h4 class="text-light text-center" style="z-index: 9;">
        {{  "new user" | translate }}
      </h4>

      <div class="register-form">
        <div
          class="py-3 bg-danger rounded align-items-center px-4"
          *ngIf="invalidMessage"
        >
          <h5 class="text-center">
            {{  "Email already exists" | translate }}...
          </h5>
        </div>
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label>{{  "name" | translate }}*</label>
            <input
              type="text"
              formControlName="name"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['name'].errors }"
            />
            <div *ngIf="submitted && f['name'].errors" class="invalid-feedback">
              <div *ngIf="f['name'].errors['required']">
                {{  "name" | translate }}
                {{  "required" | translate }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>{{  "email" | translate }}*</label>
            <input
              type="text"
              formControlName="email"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['email'].errors }"
            />
            <div
              *ngIf="submitted && f['email'].errors"
              class="invalid-feedback"
            >
              <div *ngIf="f['email'].errors['required']">
                {{  "email" | translate }}
                {{  "required" | translate }}
              </div>
              <div *ngIf="f['email'].errors['email']">
                {{  "email" | translate }}
                {{  "required" | translate }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>{{  "password" | translate }}*</label>
            <input
              type="password"
              formControlName="password"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['password'].errors }"
            />
            <div
              *ngIf="submitted && f['password'].errors"
              class="invalid-feedback"
            >
              <div *ngIf="f['password'].errors['required']">
                {{  "password" | translate }}
                {{  "required" | translate }}
              </div>
              <div *ngIf="f['password'].errors['minlength']">
                {{  "password" | translate }}
                {{  "must be" | translate }}
                {{  "at least" | translate }} 6
                {{  "characters" | translate }}
              </div>
              <div *ngIf="f['password'].errors['maxlength']">
                {{  "password" | translate }}
                {{  "must be" | translate }}
                {{  "less than" | translate }} 40
                {{  "characters" | translate }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <label
              >{{  "confirm password" | translate }}*</label
            >
            <input
              type="password"
              formControlName="confirmPassword"
              class="form-control"
              [ngClass]="{
                'is-invalid': submitted && f['confirmPassword'].errors
              }"
            />
            <div
              *ngIf="submitted && f['confirmPassword'].errors"
              class="invalid-feedback"
            >
              <div *ngIf="f['confirmPassword'].errors['required']">
                {{  "confirm password" | translate }}
                {{  "required" | translate }}
              </div>
              <div *ngIf="f['confirmPassword'].errors['matching']">
                {{  "confirm password" | translate }}
                {{  "does not match" | translate }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <button type="submit" class="btn btn-dark col-12 py-3 mt-4">
              {{  "continue" | translate }}
            </button>

            <p style="font-size: 10px" class="mt-2 px-1">
              {{
                
                  "registering means that you accept and agree to our terms."
                  | translate
              }}
            </p>
          </div>
        </form>
      </div>
      <div style="z-index: 999">
        <p class="mb-0 mt-3">
          <small class="text-light me-2">{{
             "already have an account?" | translate
          }}</small>
          <a href="javascript:void(0)" [routerLink]="['/auth/login']">
            <span class="text-light me-2 fw-bold">
              {{  "login" | translate }}
            </span>
            <span class="mdi mdi-lock text-dark"></span>
          </a>
        </p>
      </div>
    </div>
  </div>
</div>

<app-register-final
  *ngIf="step === 2"
  [firstInputs]="firstInputs"
></app-register-final>
